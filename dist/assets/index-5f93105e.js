import{a9 as s,r as n,e as w,j as t,aa as I,B as o,ad as b}from"./index-f064b6f1.js";import{S as u}from"./index-3181c73c.js";import{T as N}from"./Table-1818aa71.js";const h=[{label:"待认证",value:0},{label:"正常",value:1},{label:"暂时拉黑",value:2},{label:"永久拉黑",value:3},{label:"停止推送",value:4}],T=()=>{const[r]=s.useForm(),[x,p]=n.useState(0),[i,m]=n.useState({current:1,pageSize:10}),[g,j]=n.useState([]),v=[{title:"司机名称",dataIndex:"driverName",width:100,fixed:"left"},{title:"司机信息",width:180,fixed:"left",render(e){return t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:["司机ID:",e.driverId]}),t.jsxs("p",{children:["手机号码:",e.driverPhone]}),t.jsxs("p",{children:["注册城市:",e.cityName]}),t.jsxs("p",{children:["会员等级:",e.grade]}),t.jsxs("p",{children:["司机等级:",e.driverLevel]})]})}},{title:"司机状态",dataIndex:"accountStatus",width:100,render(e){const l=h.find(a=>a.value===e);return(l==null?void 0:l.label)||""}},{title:"车辆信息",width:190,render(e){return t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:["车辆信息:",e.carNo]}),t.jsxs("p",{children:["车辆品牌:",e.vehicleBrand]}),t.jsxs("p",{children:["车辆名称:",e.vehicleName]})]})}},{title:"昨日在线时长",dataIndex:"onlineTime",width:120},{title:"昨日司机流水",dataIndex:"driverAmount",width:120},{title:"司机评分",dataIndex:"rating",width:100},{title:"行为分",dataIndex:"driverScore",width:100},{title:"昨日推单数",dataIndex:"pushOrderCount",width:120},{title:"昨日完单数",dataIndex:"orderCompleteCount",width:120},{title:"加入时间",dataIndex:"createTime",width:200,render:e=>b(e)}];n.useEffect(()=>{d({pageNum:i.current,pageSize:i.pageSize})},[i.current,i.pageSize]);const d=async e=>{var c;const l=r.getFieldsValue(),a=await w.getDriverList({pageNum:(e==null?void 0:e.pageNum)||1,pageSize:(e==null?void 0:e.pageSize)||i.pageSize,...l});j((a==null?void 0:a.list)||[]),p((c=a==null?void 0:a.page)==null?void 0:c.total)},S=()=>{r.resetFields()};return t.jsxs("div",{className:"user-list",children:[t.jsxs(s,{form:r,initialValues:{accountStatus:1},layout:"inline",className:"search-form",children:[t.jsx(s.Item,{label:"司机名称",name:"driverName",children:t.jsx(I,{placeholder:"请输入司机名称"})}),t.jsx(s.Item,{label:"司机状态",name:"accountStatus",children:t.jsx(u,{placeholder:"请选择司机状态",style:{width:160},children:h.map(e=>t.jsx(u.Option,{value:e.value,children:e.label},e.value))})}),t.jsxs(s.Item,{children:[t.jsx(o,{type:"primary",className:"mr10",onClick:d,children:"搜索"}),t.jsx(o,{type:"default",onClick:S,children:"重置"})]})]}),t.jsxs("div",{className:"base-table",children:[t.jsx("div",{className:"header-wrap",children:t.jsx("div",{className:"title",children:"司机列表"})}),t.jsx(N,{bordered:!0,rowKey:"id",columns:v,dataSource:g,scroll:{x:"50%700"},pagination:{position:["bottomRight"],current:i.current,pageSize:i.pageSize,total:x,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>`共 ${e} 条`,onChange:(e,l)=>{m({current:e,pageSize:l})}}})]})]})};export{T as default};
